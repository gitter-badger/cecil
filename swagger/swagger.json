{"swagger":"2.0","info":{"title":"The ZeroCloud API","description":"An API definition for ZeroCloud in Goa","version":""},"host":"localhost:8080","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/accounts":{"get":{"tags":["account"],"summary":"list account","description":"Retrieve all accounts.","operationId":"account#list","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AccountCollection"}},"404":{"description":"Not Found"}},"schemes":["http"]},"post":{"tags":["account"],"summary":"create account","description":"Create new account","operationId":"account#create","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateAccountPayload"}}],"responses":{"201":{"description":"Resource created","headers":{"Location":{"description":"href to created resource","type":"string","pattern":"/accounts/[0-9]+"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/accounts/{accountID}":{"get":{"tags":["account"],"summary":"show account","description":"Retrieve account with given id. IDs 1 and 2 pre-exist in the system.","operationId":"account#show","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"put":{"tags":["account"],"summary":"update account","description":"Change account name","operationId":"account#update","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/UpdateAccountPayload"}}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"delete":{"tags":["account"],"summary":"delete account","operationId":"account#delete","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/accounts/{accountID}/cloudaccounts":{"get":{"tags":["cloudaccount"],"summary":"list cloudaccount","description":"List all cloud accounts","operationId":"cloudaccount#list","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CloudaccountCollection"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"post":{"tags":["cloudaccount"],"summary":"create cloudaccount","description":"Record new cloud account","operationId":"cloudaccount#create","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CloudAccountPayload"}}],"responses":{"201":{"description":"Resource created","headers":{"Location":{"description":"href to created resource","type":"string","pattern":"^/accounts/[0-9]+/cloudaccounts/[0-9]+$"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/accounts/{accountID}/cloudaccounts/{cloudAccountID}":{"get":{"tags":["cloudaccount"],"summary":"show cloudaccount","description":"Retrieve cloud account with given id","operationId":"cloudaccount#show","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"},{"name":"cloudAccountID","in":"path","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cloudaccount"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"delete":{"tags":["cloudaccount"],"summary":"delete cloudaccount","operationId":"cloudaccount#delete","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"},{"name":"cloudAccountID","in":"path","required":true,"type":"integer"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"patch":{"tags":["cloudaccount"],"summary":"update cloudaccount","operationId":"cloudaccount#update","parameters":[{"name":"accountID","in":"path","description":"Account ID","required":true,"type":"integer"},{"name":"cloudAccountID","in":"path","required":true,"type":"integer"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CloudAccountPayload"}}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}}},"definitions":{"Account":{"title":"Mediatype identifier: application/vnd.account+json","type":"object","properties":{"created_at":{"type":"string","description":"Date of creation","example":"1987-02-14T16:27:49-08:00","format":"date-time"},"created_by":{"type":"string","description":"Email of account owner","example":"admin@bigdb.co","format":"email"},"href":{"type":"string","description":"API href of account","example":"/accounts/1"},"id":{"type":"integer","description":"ID of account","example":1,"format":"int64"},"name":{"type":"string","description":"Name of account","example":"test"}},"description":"A tenant account (default view)","example":{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"},"required":["id","href","name","created_at","created_by"]},"AccountCollection":{"title":"Mediatype identifier: application/vnd.account+json; type=collection","type":"array","items":{"$ref":"#/definitions/Account"},"description":"AccountCollection is the media type for an array of Account (default view)","example":[{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"},{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"}]},"AccountLink":{"title":"Mediatype identifier: application/vnd.account+json","type":"object","properties":{"created_at":{"type":"string","description":"Date of creation","example":"1987-02-14T16:27:49-08:00","format":"date-time"},"created_by":{"type":"string","description":"Email of account owner","example":"admin@bigdb.co","format":"email"},"href":{"type":"string","description":"API href of account","example":"/accounts/1"},"id":{"type":"integer","description":"ID of account","example":1,"format":"int64"},"name":{"type":"string","description":"Name of account","example":"test"}},"description":"A tenant account (default view)","example":{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"},"required":["id","href","name","created_at","created_by"]},"CloudAccountPayload":{"title":"CloudAccountPayload","type":"object","properties":{"cloudprovider":{"type":"string","example":"AWS","minLength":3},"name":{"type":"string","description":"Name of account","example":"BigDB.co's perf testing AWS account","minLength":3},"upstream_account_id":{"type":"string","example":"98798079879","minLength":4}},"example":{"cloudprovider":"AWS","name":"BigDB.co's perf testing AWS account","upstream_account_id":"98798079879"}},"Cloudaccount":{"title":"Mediatype identifier: application/vnd.cloudaccount+json","type":"object","properties":{"account":{"$ref":"#/definitions/Account"},"cloudprovider":{"type":"string","example":"AWS","minLength":3},"href":{"type":"string","description":"API href of cloud account","example":"/accounts/1/cloudaccounts/1"},"id":{"type":"integer","description":"ID of cloud account","example":1,"format":"int64"},"links":{"$ref":"#/definitions/CloudaccountLinks"},"name":{"type":"string","description":"Name of account","example":"BigDB.co's perf testing AWS account","minLength":3},"upstream_account_id":{"type":"string","example":"98798079879","minLength":4}},"description":"A CloudAccount (default view)","example":{"account":{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"},"cloudprovider":"AWS","created_at":"1980-05-03T10:02:03-07:00","href":"/accounts/1/cloudaccounts/1","id":1,"name":"BigDB.co's perf testing AWS account","updated_at":"1984-04-03T17:13:31-08:00","upstream_account_id":"98798079879"},"required":["id","href","name","cloudprovider","upstream_account_id"]},"CloudaccountCollection":{"title":"Mediatype identifier: application/vnd.cloudaccount+json; type=collection","type":"array","items":{"$ref":"#/definitions/Cloudaccount"},"description":"CloudaccountCollection is the media type for an array of Cloudaccount (default view)","example":[{"account":{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"},"cloudprovider":"AWS","href":"/accounts/1/cloudaccounts/1","id":1,"links":{"account":{"created_at":"1987-02-14T16:27:49-08:00","created_by":"admin@bigdb.co","href":"/accounts/1","id":1,"name":"test"}},"name":"BigDB.co's perf testing AWS account","upstream_account_id":"98798079879"}]},"CloudaccountLinks":{"title":"CloudaccountLinks","type":"object","properties":{"account":{"$ref":"#/definitions/AccountLink"}},"description":"CloudaccountLinks contains links to related resources of Cloudaccount."},"CreateAccountPayload":{"title":"CreateAccountPayload","type":"object","properties":{"name":{"type":"string","description":"Name of account","example":"test"}},"example":{"name":"test"},"required":["name"]},"UpdateAccountPayload":{"title":"UpdateAccountPayload","type":"object","properties":{"name":{"type":"string","description":"Name of account","example":"test"}},"example":{"name":"test"},"required":["name"]},"error":{"title":"Mediatype identifier: application/vnd.goa.error","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}}},"responses":{"NoContent":{"description":"No Content"},"NotFound":{"description":"Not Found"},"OK":{"description":"OK","schema":{"$ref":"#/definitions/Account"}}}}