{"swagger":"2.0","info":{"title":"Cecil APIs","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.1"},"host":"127.0.0.1:8080","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/":{"get":{"tags":["root"],"summary":"show root","description":"Show info about API","operationId":"root#show","responses":{"200":{"description":"OK"}},"schemes":["http","https"]}},"/accounts":{"post":{"tags":["account"],"summary":"create account","description":"Create new account","operationId":"account#create","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateAccountPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"]}},"/accounts/{account_id}":{"get":{"tags":["account"],"summary":"show account","description":"Show account\n\nRequired security scopes:\n  * `api:access`","operationId":"account#show","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"],"security":[{"jwt":["api:access"]}]}},"/accounts/{account_id}/api_token":{"post":{"tags":["account"],"summary":"verify account","description":"Verify account and get API token","operationId":"account#verify","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/VerifyAccountPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"]}},"/accounts/{account_id}/cloudaccounts":{"post":{"tags":["cloudaccount"],"summary":"add cloudaccount","description":"Add new cloudaccount\n\nRequired security scopes:\n  * `api:access`","operationId":"cloudaccount#add","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/AddCloudaccountPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"],"security":[{"jwt":["api:access"]}]}},"/accounts/{account_id}/cloudaccounts/{cloudaccount_id}/owners":{"post":{"tags":["cloudaccount"],"summary":"addEmailToWhitelist cloudaccount","description":"Add new email to owner tag whitelist\n\nRequired security scopes:\n  * `api:access`","operationId":"cloudaccount#addEmailToWhitelist","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1},{"name":"cloudaccount_id","in":"path","description":"CloudAccount Id","required":true,"type":"integer","minimum":1},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/AddEmailToWhitelistCloudaccountPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"],"security":[{"jwt":["api:access"]}]}},"/accounts/{account_id}/cloudaccounts/{cloudaccount_id}/tenant-aws-initial-setup.template":{"get":{"tags":["cloudaccount"],"summary":"downloadInitialSetupTemplate cloudaccount","description":"Download AWS initial setup cloudformation template\n\nRequired security scopes:\n  * `api:access`","operationId":"cloudaccount#downloadInitialSetupTemplate","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1},{"name":"cloudaccount_id","in":"path","description":"CloudAccount Id","required":true,"type":"integer","minimum":1}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"],"security":[{"jwt":["api:access"]}]}},"/accounts/{account_id}/cloudaccounts/{cloudaccount_id}/tenant-aws-region-setup.template":{"get":{"tags":["cloudaccount"],"summary":"downloadRegionSetupTemplate cloudaccount","description":"Download AWS region setup cloudformation template\n\nRequired security scopes:\n  * `api:access`","operationId":"cloudaccount#downloadRegionSetupTemplate","parameters":[{"name":"account_id","in":"path","description":"Account Id","required":true,"type":"integer","minimum":1},{"name":"cloudaccount_id","in":"path","description":"CloudAccount Id","required":true,"type":"integer","minimum":1}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"],"security":[{"jwt":["api:access"]}]}},"/email_action/leases/{lease_uuid}/{instance_id}/{action}":{"get":{"tags":["email_action"],"summary":"actions email_action","description":"Perform an action on a lease","operationId":"email_action#actions","parameters":[{"name":"action","in":"path","description":"Action to be peformed on the lease","required":true,"type":"string","enum":["approve","terminate","extend"]},{"name":"instance_id","in":"path","description":"ID of the lease","required":true,"type":"string","minLength":1},{"name":"lease_uuid","in":"path","description":"UUID of the lease","required":true,"type":"string"},{"name":"sig","in":"query","description":"The signature of this link","required":true,"type":"string","minLength":30},{"name":"tok","in":"query","description":"The token_once of this link","required":true,"type":"string","minLength":30}],"responses":{"200":{"description":"OK"}},"schemes":["http","https"]}},"/swagger.json":{"get":{"summary":"Download goa/swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http","https"]}}},"definitions":{"AddCloudaccountPayload":{"title":"AddCloudaccountPayload","type":"object","properties":{"aws_id":{"type":"string","minLength":1}},"required":["aws_id"]},"AddEmailToWhitelistCloudaccountPayload":{"title":"AddEmailToWhitelistCloudaccountPayload","type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]},"CreateAccountPayload":{"title":"CreateAccountPayload","type":"object","properties":{"email":{"type":"string","format":"email"},"name":{"type":"string","minLength":1,"maxLength":30},"surname":{"type":"string","minLength":1,"maxLength":30}},"required":["email","name","surname"]},"VerifyAccountPayload":{"title":"VerifyAccountPayload","type":"object","properties":{"verification_token":{"type":"string","minLength":108}},"required":["verification_token"]}},"securityDefinitions":{"jwt":{"type":"apiKey","description":"\n\n**Security Scopes**:\n  * `api:access`: API access","name":"Authorization","in":"header"}},"externalDocs":{"description":"Cecil APIs docs","url":""}}